<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Ant | haoweishow Blog]]></title>
  <link href="http://haoweishow.com/blog/categories/ant/atom.xml" rel="self"/>
  <link href="http://haoweishow.com/"/>
  <updated>2014-10-09T14:27:34+08:00</updated>
  <id>http://haoweishow.com/</id>
  <author>
    <name><![CDATA[haoweishow]]></name>
    <email><![CDATA[haoweishow@gmail.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Ant命令汇总]]></title>
    <link href="http://haoweishow.com/blog/2014/09/11/antming-ling-hui-zong/"/>
    <updated>2014-09-11T14:49:43+08:00</updated>
    <id>http://haoweishow.com/blog/2014/09/11/antming-ling-hui-zong</id>
    <content type="html"><![CDATA[<h3>更新zip包</h3>

<hr />

<p>```
<target name="zip"></p>

<pre><code>&lt;zip destFile="111.zip" basedir="." includes="123.txt" update="true" /&gt;
</code></pre>

<p></target>
```</p>

<h3>调用target</h3>

<hr />

<p>方法1<br/>
```
<target name="war.import" depends="svn.task,war.name"></p>

<pre><code>&lt;echo&gt;A: ${war.name}&lt;/echo&gt;
</code></pre>

<p></target>
<code>
方法2  
</code>
<target name="war.import" depends="svn.task"></p>

<pre><code>&lt;antcall target="war.name"/&gt;
&lt;echo&gt;B: ${war.name}&lt;/echo&gt;
</code></pre>

<p></target>
```</p>

<h3>copy命令</h3>

<hr />

<p>拷贝单个文件<br/>
<code>
&lt;copy todir="/home/esb" file="/tmp/config/build.xml"/&gt;
</code>
拷贝文件夹<br/>
```
<copy todir="/home/esb" includeEmptyDirs="yes" overwrite=“true” verbose="true"></p>

<pre><code>&lt;fileset dir="/test/config"&gt;
    &lt;include name="aaa/**"/&gt;
    &lt;exclude name="bbb/**"/&gt;
&lt;/fileset&gt;
</code></pre>

<p></copy>
```</p>

<h3>文件移动</h3>

<hr />

<p>文件改名<br/>
<code>
&lt;move file="src1/test.txt" tofile="src/test.txt"/&gt;
</code>
单个文件移动<br/>
<code>
&lt;move file="src1/test.txt" todir="src"/&gt;
</code>
文件夹移动<br/>
```
<move todir="src"></p>

<pre><code>&lt;fileset dir="src1"/&gt;
</code></pre>

<p></move>
```</p>

<h3>javac设置classpath</h3>

<hr />

<p>方法1<br/>
```
<javac srcdir="${src}" destdir="${classes}"></p>

<pre><code>&lt;classpath&gt;
    &lt;fileset dir="lib"&gt;
        &lt;include name="*.jar"/&gt;
    &lt;/fileset&gt;
    &lt;path locaiton="build/classes" /&gt;
&lt;/classpath&gt;
</code></pre>

<p></javac>
<code>
方法2  
</code>
<javac srcdir="${src}" destdir="${classes}"></p>

<pre><code>&lt;classpath&gt;
    &lt;fileset dir="build/lib/" includes="*.jar" /&gt;
    &lt;dirset dir="build/classes/" /&gt;
&lt;/classpath&gt;
</code></pre>

<p></javac>
```</p>

<h3>javac参数</h3>

<hr />

<p>```
<javac srcdir="${common.src.dir}" destdir="${build.temp.common.classes.dir}" debug="on" memoryMaximumSize="256m" fork="true" deprecation="off" failonerror="false"></p>

<pre><code>&lt;!--给编译器指定编码，防止出现："警告： 编码 GBK 的不可映射字符"--&gt;
&lt;compilerarg line="-encoding UTF-8"/&gt;
&lt;classpath refid="common.lib.path"/&gt;
&lt;include name="**"/&gt;
</code></pre>

<p></javac>
```</p>

<h3>jar参数</h3>

<hr />

<p>```
<jar destfile="aaa.jar"></p>

<pre><code>&lt;fileset dir=""&gt;
    &lt;include name="com/**/**/*.class /&gt;
&lt;/fileset&gt;
</code></pre>

<p></jar>
```</p>

<h3>执行java程序</h3>

<p>```
<target name="test-crawl1"></p>

<pre><code>&lt;java classname="org.apache.nutch.crawl.Crawl"&gt;
    &lt;classpath&gt;
        &lt;path location="build/classes"&gt;&lt;/path&gt;
    &lt;/classpath&gt;
    &lt;classpath&gt;
        &lt;fileset dir="lib" includes="**/*.jar"&gt;&lt;/fileset&gt;
    &lt;/classpath&gt;
    &lt;arg value="multiurls1.txt"/&gt;
    &lt;arg value="-dir"/&gt;
    &lt;arg value="crawed1"/&gt;
    &lt;arg value="-depth"/&gt;
    &lt;arg value="7"/&gt;
    &lt;arg value="-threads"/&gt;
    &lt;arg value="7"/&gt;
    &lt;arg value="-topN"/&gt;
    &lt;arg value="-100"/&gt;
&lt;/java&gt;
</code></pre>

<p></target>
```</p>
]]></content>
  </entry>
  
</feed>
